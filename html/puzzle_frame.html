{% extends "player_base.html" %}

{% block title %}{{puzzle.title}}{% end %}

{% block topnav_extraright %}
{% if solved %}
<a id="submit" class="submitsolved">Solved</a>
{% else %}
<a id="submit">Submit</a>
{% end %}
<a id="hinttoggle" style="display: {{"inline" if puzzle.hints_available else "none"}}">Hints</a>
{% end %}

{% block midnav %}
<div id="hintpanel">
  <div id="hinthistory"></div>
  <textarea rows=3 id="hinttext"></textarea>
  <button id="hintrequest">Send request</button>
</div>
<div id="submitpanel">
  <div id="thumb" style="width: {{thumb.size[0]}}px; height: {{thumb.size[1]}}px;">
    <a href="{{puzzle.land.url}}"><img class="base" src="{{thumb.url}}"></img></a>
  </div>
  <div id="submitdata">
    <div id="submit_table_scroll">
      <table id="submit_table">
        <tr><th id="st_answer">Answer</th><th id="st_time">Submit time</th><th id="st_result">Result</th></tr>
        <tbody id="submit_table_body">
        </tbody>
      </table>
    </div>
    <div id="submitentry">
      {% if puzzle.emojify %}
        <input type=hidden id="answer" name="answer" maxlength=40>
        <div id="emoji-answer" contenteditable="true"></div>
        <span id="emoji-picker-button" class="fa fa-smile-o"></span>
        <div id="emoji-picker">
          <div id="emoji-picker-header">
            <span id="emoji-picker-search-icon" class="fa fa-search"></span>
            <input id="emoji-picker-search-input" placeholder="Search" value="">
          </div>
          <div id="emoji-picker-body">
          </div>
        </div>
      {% else %}
        <input type=text maxlength=40 id="answer" name="answer">
      {% end %}
      <button id="submitsubmit">Submit</button>
      <span id="top_note"></span>
    </div>
  </div>
</div>
{% end %}


{% block head %}
{% if puzzle.html_head %}{% raw puzzle.html_head %}{% end %}
{% end %}


{% block content %}
<a href="{{puzzle.land.url}}"><h1 id="landtitle">{{puzzle.land.title}}</h1></a>

<div id="content">

  <h2 id="puzzletitle"><div id=vspace></div>{% raw supertitle %}{{puzzle.title}}</h2>
  <div id="puzz">
    {% raw puzzle.html_body %}
  </div>
</div>

{% end %}
